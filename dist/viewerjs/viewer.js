function Viewer(e){function t(){return document.isFullScreen||document.mozFullScreen||document.webkitIsFullScreen}function n(e){var t,n,o=B.options,i=!1;for(n=0;n<o.length;n+=1)t=o[n],t.value!==e?t.selected=!1:i=t.selected=!0;return i}function o(e,t,n){e!==h.getZoomLevel()&&(h.setZoomLevel(e),n=document.createEvent("UIEvents"),n.initUIEvent("scalechange",!1,!1,window,0),n.scale=e,n.resetAutoSettings=t,window.dispatchEvent(n))}function i(){var t;e.onScroll&&e.onScroll(),e.getPageInView&&(t=e.getPageInView())&&(r=t,document.getElementById("pageNumber").value=t)}function l(e){window.clearTimeout(g),g=window.setTimeout(function(){i()},e)}function c(t,i,c){var a,u;if(a="custom"===t?parseFloat(document.getElementById("customScaleOption").textContent)/100:parseFloat(t))o(a,!0,c);else{switch(a=p.clientWidth-f,u=p.clientHeight-f,t){case"page-actual":o(1,i,c);break;case"page-width":e.fitToWidth(a);break;case"page-height":e.fitToHeight(u);break;case"page-fit":e.fitToPage(a,u);break;case"auto":e.isSlideshow()?e.fitToPage(a+f,u+f):e.fitSmart(a)}n(t)}l(300)}function a(){w&&!t()&&h.togglePresentationMode()}function u(){E&&(I.className="touched",window.clearTimeout(v),v=window.setTimeout(function(){I.className=""},2e3))}var d,s,m,r,g,v,h=this,f=40,w=!1,y=!1,E=!1,p=document.getElementById("canvasContainer"),I=document.getElementById("overlayNavigator"),P=document.getElementById("toolbarLeft"),S=document.getElementById("toolbarMiddleContainer"),B=document.getElementById("scaleSelect"),L=[];this.initialize=function(){var t=String(document.location),n=t.indexOf("#"),t=t.substr(n+1);-1===n||0===t.length?console.log("Could not parse file path argument."):(s=document.getElementById("viewer"),d=t,m=d.replace(/^.*[\\\/]/,""),document.title=m,document.getElementById("documentName").innerHTML=document.title,e.onLoad=function(){(E=e.isSlideshow())?(p.style.padding=0,P.style.visibility="visible"):(S.style.visibility="visible",e.getPageInView&&(P.style.visibility="visible")),y=!0,L=e.getPages(),document.getElementById("numPages").innerHTML="of "+L.length,h.showPage(1),c("auto"),p.onscroll=i,l()},e.initialize(p,t))},this.showPage=function(t){0>=t?t=1:t>L.length&&(t=L.length),e.showPage(t),r=t,document.getElementById("pageNumber").value=r},this.showNextPage=function(){h.showPage(r+1)},this.showPreviousPage=function(){h.showPage(r-1)},this.download=function(){var e=d.split("#")[0];window.open(e+"#viewer.action=download","_parent")},this.toggleFullScreen=function(){var e=s;t()?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},this.togglePresentationMode=function(){var t=document.getElementById("titlebar"),n=document.getElementById("toolbarContainer"),o=document.getElementById("overlayCloseButton");w?(t.style.display=n.style.display="block",o.style.display="none",p.className="",p.onmouseup=function(){},p.oncontextmenu=function(){},p.onmousedown=function(){},c("auto"),E=e.isSlideshow()):(t.style.display=n.style.display="none",o.style.display="block",p.className="presentationMode",E=!0,p.onmousedown=function(e){e.preventDefault()},p.oncontextmenu=function(e){e.preventDefault()},p.onmouseup=function(e){e.preventDefault(),1===e.which?h.showNextPage():h.showPreviousPage()},c("page-fit")),w=!w},this.getZoomLevel=function(){return e.getZoomLevel()},this.setZoomLevel=function(t){e.setZoomLevel(t)},this.zoomOut=function(){var e=(h.getZoomLevel()/1.1).toFixed(2),e=Math.max(.25,e);c(e,!0)},this.zoomIn=function(){var e=(1.1*h.getZoomLevel()).toFixed(2),e=Math.min(4,e);c(e,!0)},function(){h.initialize(),document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||(document.getElementById("fullscreen").style.visibility="hidden"),document.getElementById("overlayCloseButton").addEventListener("click",h.toggleFullScreen),document.getElementById("fullscreen").addEventListener("click",h.toggleFullScreen),document.getElementById("presentation").addEventListener("click",function(){t()||h.toggleFullScreen(),h.togglePresentationMode()}),document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("mozfullscreenchange",a),document.getElementById("download").addEventListener("click",function(){h.download()}),document.getElementById("zoomOut").addEventListener("click",function(){h.zoomOut()}),document.getElementById("zoomIn").addEventListener("click",function(){h.zoomIn()}),document.getElementById("previous").addEventListener("click",function(){h.showPreviousPage()}),document.getElementById("next").addEventListener("click",function(){h.showNextPage()}),document.getElementById("previousPage").addEventListener("click",function(){h.showPreviousPage()}),document.getElementById("nextPage").addEventListener("click",function(){h.showNextPage()}),document.getElementById("pageNumber").addEventListener("change",function(){h.showPage(this.value)}),document.getElementById("scaleSelect").addEventListener("change",function(){c(this.value)}),p.addEventListener("click",u),I.addEventListener("click",u),window.addEventListener("scalechange",function(e){var t=document.getElementById("customScaleOption"),o=n(String(e.scale));t.selected=!1,o||(t.textContent=Math.round(1e4*e.scale)/100+"%",t.selected=!0)},!0),window.addEventListener("resize",function(e){y&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageAutoOption").selected)&&c(document.getElementById("scaleSelect").value),u()}),window.addEventListener("keydown",function(e){var t=e.shiftKey;switch(e.keyCode){case 38:case 37:h.showPreviousPage();break;case 40:case 39:h.showNextPage();break;case 32:t?h.showPreviousPage():h.showNextPage()}})}()}