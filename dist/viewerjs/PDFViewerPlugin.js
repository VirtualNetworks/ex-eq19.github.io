function PDFViewerPlugin(){"use strict";function e(e){var t,n,i;t=document.createElement("script"),t.async=!1,t.src="./pdf.js",t.type="text/javascript",t.onload=function(){n=document.createElement("script"),n.async=!1,n.src="./TextLayerBuilder.js",n.type="text/javascript",n.onload=e,document.getElementsByTagName("head")[0].appendChild(n)},document.getElementsByTagName("head")[0].appendChild(t),i=document.createElement("link"),i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href","./PDFViewerPlugin.css"),document.head.appendChild(i)}function t(e){e.parentNode.scrollTop=e.offsetTop}function n(e){var t=y.scrollTop,n=t+y.clientHeight,i=e.offsetTop,o=i+e.clientHeight;return i>=t&&n>i||o>=t&&n>o||t>i&&o>=n}function i(e){return f[e.pageInfo.pageIndex]}function o(e){return p[e.pageInfo.pageIndex]}function a(e){return m[e.pageInfo.pageIndex]}function r(e,t){m[e.pageInfo.pageIndex]=t}function s(e,t,n){var o=i(e),a=o.getElementsByTagName("canvas")[0],s=o.getElementsByTagName("div")[0];o.style.width=t,o.style.height=n,a.width=t,a.height=n,s.style.width=t,s.style.height=n,r(e,v.BLANK)}function c(e){var t=i(e),n=o(e),s=t.getElementsByTagName("canvas")[0];a(e)===v.BLANK&&(r(e,v.RUNNING),e.render({canvasContext:s.getContext("2d"),textLayer:n,viewport:e.getViewport(L)}).then(function(){r(e,v.FINISHED)}))}function u(e){var t,n,i,o,a,r;t=e.pageInfo.pageIndex+1,r=e.getViewport(L),a=document.createElement("div"),a.id="pageContainer"+t,a.className="page",o=document.createElement("canvas"),o.id="canvas"+t,n=document.createElement("div"),n.className="textLayer",n.id="textLayer"+t,y.appendChild(a),a.appendChild(o),a.appendChild(n),l.push(e),f.push(a),m.push(v.BLANK),s(e,r.width,r.height),h=r.width,g=r.height,i=new TextLayerBuilder({textLayerDiv:n,pageIndex:t-1}),e.getTextContent().then(function(e){i.setTextContent(e)}),p.push(i),I+=1,I===x.numPages&&d.onLoad()}var h,g,d=this,l=[],f=[],p=[],m=[],v={BLANK:0,RUNNING:1,FINISHED:2},y=null,N=!1,x=null,L=1,I=0;this.initialize=function(t,n){var i;e(function(){PDFJS.workerSrc="./pdf.worker.js",PDFJS.getDocument(n).then(function(e){for(x=e,y=t,i=0;i<x.numPages;i+=1)x.getPage(i+1).then(u);N=!0})})},this.isSlideshow=function(){return h>g},this.onLoad=function(){},this.getPages=function(){return f},this.getWidth=function(){return h},this.getHeight=function(){return g},this.fitToWidth=function(e){var t;d.getWidth()!==e&&(t=e/h,d.setZoomLevel(t))},this.fitToHeight=function(e){var t;d.getHeight()!==e&&(t=e/g,d.setZoomLevel(t))},this.fitToPage=function(e,t){var n=e/h;n>t/g&&(n=t/g),d.setZoomLevel(n)},this.fitSmart=function(e,t){var n=e/h;t&&n>t/g&&(n=t/g),n=Math.min(1,n),d.setZoomLevel(n)},this.setZoomLevel=function(e){var t;if(L!==e)for(L=e,t=0;t<l.length;t+=1)s(l[t],h*L,g*L)},this.getZoomLevel=function(){return L},this.onScroll=function(){var e;for(e=0;e<f.length;e+=1)n(f[e])&&a(l[e])===v.BLANK&&c(l[e])},this.getPageInView=function(){var e;for(e=0;e<f.length;e+=1)if(n(f[e]))return e+1},this.showPage=function(e){t(f[e-1])}}