"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="0.8.476",PDFJS.build="0fc8bac",function(){"use strict";function t(t){F>=I&&(O("Info: "+t),PDFJS.LogManager.notify("info",t))}function e(t){F>=P&&(O("Warning: "+t),PDFJS.LogManager.notify("warn",t))}function n(t){if(arguments.length>1){var e=["Error:"];e.push.apply(e,arguments),O.apply(null,e),t=[].join.call(arguments," ")}else O("Error: "+t);throw O(i()),PDFJS.LogManager.notify("error",t),new Error(t)}function r(t){e("TODO: "+t)}function i(){try{throw new Error}catch(t){return t.stack?t.stack.split("\n").slice(2).join("\n"):""}}function a(t,e){t||n(e)}function o(t,e){if(!e)return t;if(e.indexOf(":")>=0)return e;if("/"==e.charAt(0)){var n=t.indexOf("://");return n=t.indexOf("/",n+3),t.substring(0,n)+e}var n,r=t.length;n=t.lastIndexOf("#"),r=n>=0?n:r,n=t.lastIndexOf("?",r),r=n>=0?n:r;var i=t.lastIndexOf("/",r);return t.substring(0,i+1)+e}function s(t,e){if(!t)return!1;var n=t.indexOf(":");if(0>n)return e;var r=t.substr(0,n);switch(r){case"http":case"https":case"ftp":case"mailto":return!0;default:return!1}}function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function h(t){for(var e="",n=t.length,r=0;n>r;++r)e+=String.fromCharCode(t[r]);return e}function l(t){for(var e=t.length,n=new Uint8Array(e),r=0;e>r;++r)n[r]=255&t.charCodeAt(r);return n}function u(t){var e,n=t.length,r="";if("þ"===t[0]&&"ÿ"===t[1])for(e=2;n>e;e+=2)r+=String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1));else for(e=0;n>e;++e){var i=_[t.charCodeAt(e)];r+=i?String.fromCharCode(i):t.charAt(e)}return r}function f(t){return"boolean"==typeof t}function p(t){return"number"==typeof t}function A(t){return"string"==typeof t}function d(t){return t instanceof Name}function g(t,e){if(!(t instanceof Dict))return!1;if(!e)return!0;var n=t.get("Type");return d(n)&&n.name==e}function m(t){return t instanceof Array}function v(t){return"object"==typeof t&&null!==t&&void 0!==t&&"getBytes"in t}function b(t){return"object"==typeof t&&null!==t&&void 0!==t&&"byteLength"in t}function y(t){var e;if("object"!=typeof t)return!1;if(g(t))e=t;else{if(!v(t))return!1;e=t.dict}return e.has("FunctionType")}function x(t,r){this.name=t,this.comObj=r,this.callbackIndex=1;var i=this.callbacks={},a=this.actionHandler={};a.console_log=[function(t){O.apply(null,t)}],a.console_error="console"in w?[function(t){w.console.error.apply(null,t)}]:[function(t){O.apply(null,t)}],a._warn=[function(t){e(t)}],r.onmessage=function(t){var e=t.data;if(e.isReply){var o=e.callbackId;if(e.callbackId in i){var s=i[o];delete i[o],s(e.data)}else n("Cannot resolve callback "+o)}else if(e.action in a){var c=a[e.action];if(e.callbackId){var h=new J;h.then(function(t){r.postMessage({isReply:!0,callbackId:e.callbackId,data:t})}),c[0].call(c[1],e.data,h)}else c[0].call(c[1],e.data)}else n("Unkown action from worker: "+e.action)}}function C(t,e,n){var r=new Image;r.onload=function(){n.resolve(t,r)},r.src="data:image/jpeg;base64,"+window.btoa(e)}function S(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function R(t){t.mozCurrentTransform||(t._scaleX=t._scaleX||1,t._scaleY=t._scaleY||1,t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=[t._scaleX,0,0,t._scaleY,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=e*i-n*r,c=n*r-e*i;return[i/s,n/c,r/c,e/s,(i*a-r*o)/c,(n*a-e*o)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,r,i,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],t._originalTransform(e,n,r,i,a,o)},t.setTransform=function(e,n,r,i,a,o){this._transformMatrix=[e,n,r,i,a,o],t._originalSetTransform(e,n,r,i,a,o)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this._transformMatrix;this._transformMatrix=[r[0]*e+r[2]*n,r[1]*e+r[3]*n,r[0]*-n+r[2]*e,r[1]*-n+r[3]*e,r[4],r[5]],this._originalRotate(t)})}function k(t){var e,n,r,i=1e3,a=t.width,o=t.height,s=a+1,c=new Uint8Array(s*(o+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=3,u=t.data,f=4*a,p=0;for(0!==u[3]&&(c[0]=1,++p),n=1;a>n;n++)u[l]!==u[l+4]&&(c[n]=u[l]?2:1,++p),l+=4;for(0!==u[l]&&(c[n]=2,++p),l+=4,e=1;o>e;e++){r=e*s,u[l-f]!==u[l]&&(c[r]=u[l]?1:8,++p);var A=(u[l]?4:0)+(u[l-f]?8:0);for(n=1;a>n;n++)A=(A>>2)+(u[l+4]?4:0)+(u[l-f+4]?8:0),h[A]&&(c[r+n]=h[A],++p),l+=4;if(u[l-f]!==u[l]&&(c[r+n]=u[l]?2:4,++p),l+=4,p>i)return null}for(l-=f,r=e*s,0!==u[l]&&(c[r]=8,++p),n=1;a>n;n++)u[l]!==u[l+4]&&(c[r+n]=u[l]?4:8,++p),l+=4;if(0!==u[l]&&(c[r+n]=4,++p),p>i)return null;var d=new Int32Array([0,s,-1,0,-s,0,0,0,1]),g=[];for(e=0;p&&o>=e;e++){for(var m=e*s,v=m+a;v>m&&!c[m];)m++;if(m!==v){var b,y=[m%s,e],x=c[m],C=m;do{var S=d[x];do m+=S;while(!c[m]);b=c[m],5!==b&&10!==b?(x=b,c[m]=0):(x=b&51*x>>4,c[m]&=x>>2|x<<2),y.push(m%s),y.push(m/s|0),--p}while(C!==m);g.push(y),--e}}var R=function(t){t.save(),t.scale(1/a,-1/o),t.translate(0,-o),t.beginPath();for(var e=0,n=g.length;n>e;e++){var r=g[e];t.moveTo(r[0],r[1]);for(var i=2,s=r.length;s>i;i+=2)t.lineTo(r[i],r[i+1])}t.fill(),t.beginPath(),t.restore()};return R}var w="undefined"==typeof window?this:window,D="undefined"==typeof window,P=1,I=5,F=P,T=[.001,0,0,.001,0,0],L={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};w.PDFJS||(w.PDFJS={}),w.PDFJS.pdfBug=!1;var O=function(){return"console"in w&&"log"in w.console?w.console.log.bind(w.console):function(){}}();PDFJS.isValidUrl=s;var M=(PDFJS.LogManager=function(){var t=[];return{addLogger:function(e){t.push(e)},notify:function(e,n){for(var r=0,i=t.length;i>r;r++){var a=t[r];a[e]&&a[e](n)}}}}(),PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2}),j=(function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t){this.name="InvalidPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t){this.name="MissingPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="NotImplementedException",t.constructor=t,t}()),E=(function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data [begin, end)"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}(),[1,0,0,1,0,0]),B=PDFJS.Util=function(){function t(){}return t.makeCssRgb=function(t){return"rgb("+t[0]+","+t[1]+","+t[2]+")"},t.makeCssCmyk=function(e){var n=z.singletons.cmyk.getRgb(e,0);return t.makeCssRgb(n)},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,i=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,i]},t.getAxialAlignedBoundingBox=function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),a=t.applyTransform([e[0],e[3]],n),o=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(n+a)/2,s=Math.sqrt((n+a)*(n+a)-4*(n*a-i*r))/2,c=o+s||1,h=o-s||1;return[Math.sqrt(c),Math.sqrt(h)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),a=[e[1],e[3],n[1],n[3]].sort(r),o=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0]?(o[0]=i[1],o[2]=i[2],a[0]===e[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===e[1]?(o[1]=a[1],o[3]=a[2],o):!1):!1},t.sign=function(t){return 0>t?-1:1},t.concatenateToArray=function(t,e){Array.prototype.push.apply(t,e)},t.prependToArray=function(t,e){Array.prototype.unshift.apply(t,e)},t.extendObj=function(t,e){for(var n in e)t[n]=e[n]},t.getInheritableProperty=function(t,e){for(;t&&!t.has(e);)t=t.get("Parent");return t?t.get(e):null},t.inherit=function(t,e,n){t.prototype=Object.create(e.prototype),t.prototype.constructor=t;for(var r in n)t.prototype[r]=n[r]},t.loadScript=function(t,e){var n=document.createElement("script"),r=!1;n.setAttribute("src",t),e&&(n.onload=function(){r||e(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},t}(),_=(PDFJS.PageViewport=function(){function t(t,e,n,r,i,a){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=i;var o,s,c,h,l=(t[2]+t[0])/2,u=(t[3]+t[1])/2;switch(n%=360,n=0>n?n+360:n){case 180:o=-1,s=0,c=0,h=1;break;case 90:o=0,s=1,c=1,h=0;break;case 270:o=0,s=-1,c=-1,h=0;break;default:o=1,s=0,c=0,h=-1}a&&(c=-c,h=-h);var f,p,A,d;0===o?(f=Math.abs(u-t[1])*e+r,p=Math.abs(l-t[0])*e+i,A=Math.abs(t[3]-t[1])*e,d=Math.abs(t[2]-t[0])*e):(f=Math.abs(l-t[0])*e+r,p=Math.abs(u-t[1])*e+i,A=Math.abs(t[2]-t[0])*e,d=Math.abs(t[3]-t[1])*e),this.transform=[o*e,s*e,c*e,h*e,f-o*e*l-c*e*u,p-s*e*l-h*e*u],this.width=A,this.height=d,this.fontScale=e}return t.prototype={clone:function(e){e=e||{};var n="scale"in e?e.scale:this.scale,r="rotation"in e?e.rotation:this.rotation;return new t(this.viewBox.slice(),n,r,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(t,e){return B.applyTransform([t,e],this.transform)},convertToViewportRectangle:function(t){var e=B.applyTransform([t[0],t[1]],this.transform),n=B.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]},convertToPdfPoint:function(t,e){return B.applyInverseTransform([t,e],this.transform)}},t}(),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]),J=PDFJS.Promise=function(){function t(){this._status=n,this._handlers=[]}var n=0,r=1,i=2,a=500,o={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(t){t._status!=n&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(;this.handlers.length>0;){var t=this.handlers.shift(),e=t.thisPromise._status,n=t.thisPromise._value;try{e===r?"function"==typeof t.onResolve&&(n=t.onResolve(n)):"function"==typeof t.onReject&&(n=t.onReject(n),e=r,t.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(t.thisPromise))}catch(a){e=i,n=a}t.nextPromise._updateStatus(e,n)}this.running=!1},addUnhandledRejection:function(t){this.unhandledRejections.push({promise:t,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(t){t._unhandledRejection=!1;for(var e=0;e<this.unhandledRejections.length;e++)this.unhandledRejections[e].promise===t&&(this.unhandledRejections.splice(e),e--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var t=Date.now(),n=0;n<this.unhandledRejections.length;n++)if(t-this.unhandledRejections[n].time>a){var r=this.unhandledRejections[n].promise._value,i="Unhandled rejection: "+r;r.stack&&(i+="\n"+r.stack),e(i),this.unhandledRejections.splice(n),n--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),a))}};return t.all=function(e){function n(t){r._status!==i&&(o=[],r.reject(t))}var r=new t,a=e.length,o=[];if(0===a)return r.resolve(o),r;for(var s=0,c=e.length;c>s;++s){var h=e[s];h.then(function(t){return function(e){r._status!==i&&(o[t]=e,a--,0===a&&r.resolve(o))}}(s),n)}return r},t.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(t,e){if(this._status!==r&&this._status!==i){if(t==r&&e&&"function"==typeof e.then)return void e.then(this._updateStatus.bind(this,r),this._updateStatus.bind(this,i));this._status=t,this._value=e,t===i&&0===this._handlers.length&&(this._unhandledRejection=!0,o.addUnhandledRejection(this)),o.scheduleHandlers(this)}},get isResolved(){return this._status===r},get isRejected(){return this._status===i},resolve:function(t){this._updateStatus(r,t)},reject:function(t){this._updateStatus(i,t)},then:function(e,n){var r=new t;return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:r}),o.scheduleHandlers(this),r}},t}(),N=function(){function t(t,e,n){for(;t.length<n;)t+=e;return t}function n(){this.started={},this.times=[],this.enabled=!0}return n.prototype={time:function(t){this.enabled&&(t in this.started&&e("Timer is already running for "+t),this.started[t]=Date.now())},timeEnd:function(t){this.enabled&&(t in this.started||e("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t])},toString:function(){for(var e=this.times,n="",r=0,i=0,a=e.length;a>i;++i){var o=e[i].name;o.length>r&&(r=o.length)}for(var i=0,a=e.length;a>i;++i){var s=e[i],c=s.end-s.start;n+=t(s.name," ",r)+" "+c+"ms\n"}return n}},n}();PDFJS.createBlob=function(t,e){if("function"==typeof Blob)return new Blob([t],{type:e});var n=new MozBlobBuilder;return n.append(t),n.getBlob(e)},x.prototype={on:function(t,e,r){var i=this.actionHandler;i[t]&&n('There is already an actionName called "'+t+'"'),i[t]=[e,r]},send:function(t,e,n){var r={action:t,data:e};if(n){var i=this.callbackIndex++;this.callbacks[i]=n,r.callbackId=i}this.comObj.postMessage(r)}};var z=function(){function t(){n("should not call ColorSpace constructor")}return t.prototype={getRgb:function(t,e){n("Should not call ColorSpace.getRgb")},getRgbItem:function(t,e,r,i){n("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(t,e,r,i,a,o){n("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(t){n("Should not call ColorSpace.getOutputLength")},isPassthrough:function(t){return!1},createRgbBuffer:function(t,e,n,r){if(this.isPassthrough(r))return t.subarray(e);var i=new Uint8Array(3*n),a=1<<r;if(1===this.numComps&&n>a&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){for(var o=8>=r?new Uint8Array(a):new Uint16Array(a),s=0;a>s;s++)o[s]=s;var c=new Uint8Array(3*a);this.getRgbBuffer(o,0,a,c,0,r);for(var h=0,s=0;n>s;++s){var l=3*t[e++];i[h++]=c[l],i[h++]=c[l+1],i[h++]=c[l+2]}return i}return this.getRgbBuffer(t,e,n,i,0,r),i},usesZeroToOneRange:!0},t.parse=function(e,n,r){var i=t.parseToIR(e,n,r);return i instanceof G?i:t.fromIR(i)},t.fromIR=function(e){var r=m(e)?e[0]:e;switch(r){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"PatternCS":var i=e[1];return i&&(i=t.fromIR(i)),new W(i);case"IndexedCS":var a=e[1],o=e[2],s=e[3];return new U(t.fromIR(a),o,s);case"AlternateCS":var c=e[1],h=e[2],l=e[3];return new G(c,t.fromIR(h),$.fromIR(l));case"LabCS":var u=e[1].WhitePoint,f=e[1].BlackPoint,p=e[1].Range;return new X(u,f,p);default:n("Unkown name "+r)}return null},t.parseToIR=function(e,r,i){if(d(e)){var a=i.get("ColorSpace");if(g(a)){var o=a.get(e.name);o&&(e=o)}}e=r.fetchIfRef(e);var s;if(d(e))switch(s=e.name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:n("unrecognized colorspace "+s)}else if(m(e))switch(s=e[0].name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return"DeviceGrayCS";case"CalRGB":return"DeviceRgbCS";case"ICCBased":var c=r.fetchIfRef(e[1]),h=c.dict,l=h.get("N");if(1==l)return"DeviceGrayCS";if(3==l)return"DeviceRgbCS";if(4==l)return"DeviceCmykCS";break;case"Pattern":var u=e[1];return u&&(u=t.parseToIR(u,r,i)),["PatternCS",u];case"Indexed":case"I":var f=t.parseToIR(e[1],r,i),p=e[2]+1,A=r.fetchIfRef(e[3]);return v(A)&&(A=A.getBytes()),["IndexedCS",f,p,A];case"Separation":case"DeviceN":var b=e[1],l=1;d(b)?l=1:m(b)&&(l=b.length);var y=t.parseToIR(e[2],r,i),x=$.getIR(r,r.fetchIfRef(e[3]));return["AlternateCS",l,y,x];case"Lab":var C=e[1].getAll();return["LabCS",C];default:n('unimplemented color space object "'+s+'"')}else n('unrecognized color space object: "'+e+'"');return null},t.isDefaultDecode=function(t,n){if(!t)return!0;if(2*n!==t.length)return e("The decode map is not the correct length"),!0;for(var r=0,i=t.length;i>r;r+=2)if(0!==t[r]||1!=t[r+1])return!1;return!0},t.singletons={get gray(){return c(this,"gray",new H)},get rgb(){return c(this,"rgb",new Q)},get cmyk(){return c(this,"cmyk",new Y)}},t}(),G=function(){function t(t,e,n){this.name="Alternate",this.numComps=t,this.defaultColor=new Float32Array(t);for(var r=0;t>r;++r)this.defaultColor[r]=1;this.base=e,this.tintFn=n}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,r){var i=(this.base.numComps,"subarray"in t?t.subarray(e,e+this.numComps):Array.prototype.slice.call(t,e,e+this.numComps)),a=this.tintFn(i);this.base.getRgbItem(a,0,n,r)},getRgbBuffer:function(t,e,n,r,i,a){for(var o=this.tintFn,s=this.base,c=1/((1<<a)-1),h=s.numComps,l=s.usesZeroToOneRange,u=s.isPassthrough(8)||!l,f=u?i:0,p=u?r:new Uint8Array(h*n),A=this.numComps,d=new Float32Array(A),g=0;n>g;g++){for(var m=0;A>m;m++)d[m]=t[e++]*c;var v=o(d);if(l)for(var m=0;h>m;m++)p[f++]=255*v[m];else s.getRgbItem(v,0,p,f),f+=h}u||s.getRgbBuffer(p,0,n,r,i,8)},getOutputLength:function(t){return this.base.getOutputLength(t*this.base.numComps/this.numComps)},isPassthrough:z.prototype.isPassthrough,createRgbBuffer:z.prototype.createRgbBuffer,isDefaultDecode:function(t){return z.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),W=function(){function t(t){this.name="Pattern",this.base=t}return t.prototype={},t}(),U=function(){function t(t,e,r){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array([0]),this.base=t,this.highVal=e;var i,a=t.numComps,o=a*e;if(v(r)){i=new Uint8Array(o);var s=r.getBytes(o);i.set(s)}else if(A(r)){i=new Uint8Array(o);for(var c=0;o>c;++c)i[c]=r.charCodeAt(c)}else r instanceof Uint8Array||r instanceof Array?i=r:n("Unrecognized lookup table: "+r);this.lookup=i}return t.prototype={getRgb:function(t,e){var n=this.base.numComps,r=t[e]*n;return this.base.getRgb(this.lookup,r)},getRgbItem:function(t,e,n,r){var i=this.base.numComps,a=t[e]*i;this.base.getRgbItem(this.lookup,a,n,r)},getRgbBuffer:function(t,e,n,r,i){for(var a=this.base,o=a.numComps,s=a.getOutputLength(o),c=this.lookup,h=0;n>h;++h){var l=t[e++]*o;a.getRgbBuffer(c,l,1,r,i,8),i+=s}},getOutputLength:function(t){return this.base.getOutputLength(t*this.base.numComps)},isPassthrough:z.prototype.isPassthrough,createRgbBuffer:z.prototype.createRgbBuffer,isDefaultDecode:function(t){return!0},usesZeroToOneRange:!0},t}(),H=function(){function t(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array([0])}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,r){var i=255*t[e]|0;i=0>i?0:i>255?255:i,n[r]=n[r+1]=n[r+2]=i},getRgbBuffer:function(t,e,n,r,i,a){for(var o=255/((1<<a)-1),s=e,c=i,h=0;n>h;++h){var l=o*t[s++]|0;r[c++]=l,r[c++]=l,r[c++]=l}},getOutputLength:function(t){return 3*t},isPassthrough:z.prototype.isPassthrough,createRgbBuffer:z.prototype.createRgbBuffer,isDefaultDecode:function(t){return z.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),Q=function(){function t(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array([0,0,0])}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(t,e,n,r){var i=255*t[e]|0,a=255*t[e+1]|0,o=255*t[e+2]|0;n[r]=0>i?0:i>255?255:i,n[r+1]=0>a?0:a>255?255:a,n[r+2]=0>o?0:o>255?255:o},getRgbBuffer:function(t,e,n,r,i,a){var o=3*n;if(8==a)return void r.set(t.subarray(e,e+o),i);for(var s=255/((1<<a)-1),c=e,h=i,l=0;o>l;++l)r[h++]=s*t[c++]|0},getOutputLength:function(t){return t},isPassthrough:function(t){return 8==t},createRgbBuffer:z.prototype.createRgbBuffer,isDefaultDecode:function(t){return z.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),Y=function(){function t(t,e,n,r,i){var a=t[e+0]*n,o=t[e+1]*n,s=t[e+2]*n,c=t[e+3]*n,h=a*(-4.387332384609988*a+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c+-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747)+255,l=a*(8.841041422036149*a+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c+-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578)+255,u=a*(.8842522430003296*a+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c+-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c+-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)+255;r[i]=h>255?255:0>h?0:h,r[i+1]=l>255?255:0>l?0:l,r[i+2]=u>255?255:0>u?0:u}function e(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array([0,0,0,1])}return e.prototype={getRgb:function(e,n){var r=new Uint8Array(3);return t(e,n,1,r,0),r},getRgbItem:function(e,n,r,i){t(e,n,1,r,i)},getRgbBuffer:function(e,n,r,i,a,o){for(var s=1/((1<<o)-1),c=0;r>c;c++)t(e,n,s,i,a),n+=4,a+=3},getOutputLength:function(t){return 3*(t>>2)},isPassthrough:z.prototype.isPassthrough,createRgbBuffer:z.prototype.createRgbBuffer,isDefaultDecode:function(t){return z.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},e}(),X=function(){function e(e,r,i){this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array([0,0,0]),e||n("WhitePoint missing - required for color space Lab"),r=r||[0,0,0],i=i||[-100,100,-100,100],this.XW=e[0],this.YW=e[1],this.ZW=e[2],this.amin=i[0],this.amax=i[1],this.bmin=i[2],this.bmax=i[3],this.XB=r[0],this.YB=r[1],this.ZB=r[2],(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components, no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(t("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(t("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function r(t){return t>=6/29?t*t*t:108/841*(t-4/29)}function i(t,e,n,r){return n+t*(r-n)/e}function a(t,e,n,a,o,s){var c=e[n],h=e[n+1],l=e[n+2];a!==!1&&(c=i(c,a,0,100),h=i(h,a,t.amin,t.amax),l=i(l,a,t.bmin,t.bmax)),h=h>t.amax?t.amax:h<t.amin?t.amin:h,l=l>t.bmax?t.bmax:l<t.bmin?t.bmin:l;var u,f,p,A=(c+16)/116,d=A+h/500,g=A-l/200,m=t.XW*r(d),v=t.YW*r(A),b=t.ZW*r(g);t.ZW<1?(u=3.1339*m+-1.617*v+b*-.4906,f=m*-.9785+1.916*v+.0333*b,p=.072*m+v*-.229+1.4057*b):(u=3.2406*m+-1.5372*v+b*-.4986,f=m*-.9689+1.8758*v+.0415*b,p=.0557*m+v*-.204+1.057*b),o[s]=255*Math.sqrt(0>u?0:u>1?1:u),o[s+1]=255*Math.sqrt(0>f?0:f>1?1:f),o[s+2]=255*Math.sqrt(0>p?0:p>1?1:p)}return e.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return a(this,t,e,!1,n,0),n},getRgbItem:function(t,e,n,r){a(this,t,e,!1,n,r)},getRgbBuffer:function(t,e,n,r,i,o){for(var s=(1<<o)-1,c=0;n>c;c++)a(this,t,e,s,r,i),e+=3,i+=3},getOutputLength:function(t){return t},isPassthrough:z.prototype.isPassthrough,isDefaultDecode:function(t){return!0},usesZeroToOneRange:!1},e}(),q={AXIAL:2,RADIAL:3},K=function(){function t(){n("should not call Pattern constructor")}return t.prototype={getPattern:function(t){n("Should not call Pattern.getStyle: "+t)}},t.shadingFromIR=function(t){return V[t[0]].fromIR(t)},t.parseShading=function(t,e,n,i){var a=v(t)?t.dict:t,o=a.get("ShadingType");switch(o){case q.AXIAL:case q.RADIAL:return new V.RadialAxial(a,e,n,i);default:return r("Unsupported shading type: "+o),new V.Dummy}},t}(),V={};V.SMALL_NUMBER=.01,V.RadialAxial=function(){function r(r,i,a,o,s){this.matrix=i,this.coordsArr=r.get("Coords"),this.shadingType=r.get("ShadingType"),this.type="Pattern",this.ctx=s;var c=r.get("ColorSpace","CS");c=z.parse(c,a,o),this.cs=c;var h=0,l=1;if(r.has("Domain")){var u=r.get("Domain");h=u[0],l=u[1]}var f=!1,p=!1;if(r.has("Extend")){var A=r.get("Extend");f=A[0],p=A[1]}if(!(this.shadingType!==q.RADIAL||f&&p)){var d=this.coordsArr[0],g=this.coordsArr[1],v=this.coordsArr[2],b=this.coordsArr[3],x=this.coordsArr[4],C=this.coordsArr[5],S=Math.sqrt((d-b)*(d-b)+(g-x)*(g-x));C+S>=v&&v+S>=C&&e("Unsupported radial gradient.")}this.extendStart=f,this.extendEnd=p;var R,k=r.get("Function");if(m(k)){for(var w=[],D=0,P=k.length;P>D;D++){var I=a.fetchIfRef(k[D]);y(I)||n("Invalid function"),w.push($.parse(a,I))}R=function(t){for(var e=[],n=0,r=w.length;r>n;n++)e.push(w[n](t)[0]);return e}}else y(k)||n("Invalid function"),R=$.parse(a,k);var F=l-h,T=F/10,L=this.colorStops=[];if(h>=l||0>=T)return void t("Bad shading domain.");for(var O=h;l>=O;O+=T){var M=c.getRgb(R([O]),0),j=B.makeCssRgb(M);L.push([(O-h)/F,j])}var E="transparent";if(r.has("Background")){var M=c.getRgb(r.get("Background"),0);E=B.makeCssRgb(M)}f||(L.unshift([0,E]),L[1][0]+=V.SMALL_NUMBER),p||(L[L.length-1][0]-=V.SMALL_NUMBER,L.push([1,E])),this.colorStops=L}return r.fromIR=function(t){var e=t[1],n=t[2],r=t[3],i=t[4],a=t[5],o=t[6];return{type:"Pattern",getPattern:function(t){var s;e==q.AXIAL?s=t.createLinearGradient(r[0],r[1],i[0],i[1]):e==q.RADIAL&&(s=t.createRadialGradient(r[0],r[1],a,i[0],i[1],o));for(var c=0,h=n.length;h>c;++c){var l=n[c];s.addColorStop(l[0],l[1])}return s}}},r.prototype={getIR:function(){var t=this.coordsArr,e=this.shadingType;if(e==q.AXIAL)var r=[t[0],t[1]],i=[t[2],t[3]],a=null,o=null;else if(e==q.RADIAL)var r=[t[0],t[1]],i=[t[3],t[4]],a=t[2],o=t[5];else n("getPattern type unknown: "+e);var s=this.matrix;return s&&(r=B.applyTransform(r,s),i=B.applyTransform(i,s)),["RadialAxial",e,this.colorStops,r,i,a,o]}},r}(),V.Dummy=function(){function t(){this.type="Pattern"}return t.fromIR=function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}},t.prototype={getIR:function(){return["Dummy"]}},t}();var Z=function(){function t(t,e,n,r,i,a){this.name=t[1][0].name,this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.objs=r,this.commonObjs=i,this.baseTransform=a,this.type="Pattern",this.ctx=n}var e={COLORED:1,UNCOLORED:2},i=8192;return t.getIR=function(t,e,n){var r=e.get("Matrix"),i=e.get("BBox"),a=e.get("XStep"),o=e.get("YStep"),s=e.get("PaintType"),c=e.get("TilingType");return["TilingPattern",n,t,r,i,a,o,s,c]},t.prototype={createPatternCanvas:function(t){{var e=this.operatorList,n=this.bbox,a=this.xstep,o=this.ystep,s=this.paintType,c=this.tilingType,h=this.color,l=this.objs,u=this.commonObjs;this.ctx}r("TilingType: "+c);var f=n[0],p=n[1],A=n[2],d=n[3],g=[f,p],m=[f+a,p+o],v=m[0]-g[0],b=m[1]-g[1],y=B.singularValueDecompose2dScale(this.matrix),x=B.singularValueDecompose2dScale(this.baseTransform),C=[y[0]*x[0],y[1]*x[1]];v=Math.min(Math.ceil(Math.abs(v*C[0])),i),b=Math.min(Math.ceil(Math.abs(b*C[1])),i),t.width=v,t.height=b;var S=t.getContext("2d"),R=new Ct(S,u,l);this.setFillAndStrokeStyleToContext(S,s,h),this.setScale(v,b,a,o),this.transformToScale(R);var k=[1,0,0,1,-g[0],-g[1]];R.transform.apply(R,k),this.clipBbox(R,n,f,p,A,d),R.executeOperatorList(e)},setScale:function(t,e,n,r){this.scale=[t/n,e/r]},transformToScale:function(t){var e=this.scale,n=[e[0],0,0,e[1],0,0];t.transform.apply(t,n)},scaleToContext:function(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function(t,e,n,r,i,a){if(e&&m(e)&&4==e.length){var o=i-n,s=a-r;t.rectangle(n,r,o,s),t.clip(),t.endPath()}},setFillAndStrokeStyleToContext:function(t,r,i){switch(r){case e.COLORED:var a=this.ctx;t.fillStyle=a.fillStyle,t.strokeStyle=a.strokeStyle;break;case e.UNCOLORED:var o=z.singletons.rgb.getRgb(i,0),s=B.makeCssRgb(o);t.fillStyle=s,t.strokeStyle=s;break;default:n("Unsupported paint type: "+r)}},getPattern:function(){var t=yt.getCanvas("pattern");this.createPatternCanvas(t);var e=this.ctx;return e.setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix),this.scaleToContext(),e.createPattern(t,"repeat")}},t}(),$=function(){var t=0,e=2,i=3,a=4;return{getSampleArray:function(t,e,n,r){for(var i=1,a=0,o=t.length;o>a;a++)i*=t[a];i*=e;for(var s=[],c=0,h=0,l=1/(Math.pow(2,n)-1),u=r.getBytes((i*n+7)/8),f=0,a=0;i>a;a++){for(;n>c;)h<<=8,h|=u[f++],c+=8;c-=n,s.push((h>>c)*l),h&=(1<<c)-1}return s},getIR:function(t,e){var r=e.dict;r||(r=e);var i=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],a=r.get("FunctionType"),o=i[a];return o||n("Unknown type of function"),o.call(this,e,r,t)},fromIR:function(n){var r=n[0];switch(r){case t:return this.constructSampledFromIR(n);case e:return this.constructInterpolatedFromIR(n);case i:return this.constructStichedFromIR(n);default:return this.constructPostScriptFromIR(n)}},parse:function(t,e){var n=this.getIR(t,e);return this.fromIR(n)},constructSampled:function(e,i){function a(t){for(var e=t.length,n=(t.length/2,[]),r=0,i=0;e>i;i+=2)n[r]=[t[i],t[i+1]],++r;return n}var o=i.get("Domain"),s=i.get("Range");o&&s||n("No domain or range");var c=o.length/2,h=s.length/2;o=a(o),s=a(s);var l=i.get("Size"),u=i.get("BitsPerSample"),f=i.get("Order")||1;1!==f&&r("No support for cubic spline interpolation: "+f);var p=i.get("Encode");if(!p){p=[];for(var A=0;c>A;++A)p.push(0),p.push(l[A]-1)}p=a(p);var d=i.get("Decode");d=d?a(d):s;var g=this.getSampleArray(l,h,u,e);return[t,c,o,p,d,g,l,h,Math.pow(2,u)-1,s]},constructSampledFromIR:function(t){function e(t,e,n,r,i){return r+(t-e)*((i-r)/(n-e))}return function(r){var i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],h=t[6],l=t[7],u=(t[8],t[9]);i!=r.length&&n("Incorrect number of arguments: "+i+" != "+r.length);

for(var f=r,p=1<<i,A=new Float64Array(p),d=new Uint32Array(p),g=0;p>g;g++)A[g]=1;for(var m=l,v=1,b=0;i>b;++b){var y=a[b][0],x=a[b][1],C=Math.min(Math.max(f[b],y),x),S=e(C,y,x,o[b][0],o[b][1]),R=h[b];S=Math.min(Math.max(S,0),R-1);for(var k=R-1>S?Math.floor(S):S-1,w=k+1-S,D=S-k,P=k*m,I=P+m,g=0;p>g;g++)g&v?(A[g]*=D,d[g]+=I):(A[g]*=w,d[g]+=P);m*=R,v<<=1}for(var F=new Float64Array(l),g=0;l>g;++g){for(var T=0,b=0;p>b;b++)T+=c[d[b]+g]*A[b];T=e(T,0,1,s[g][0],s[g][1]),F[g]=Math.min(Math.max(T,u[g][0]),u[g][1])}return F}},constructInterpolated:function(t,r){var i=r.get("C0")||[0],a=r.get("C1")||[1],o=r.get("N");m(i)&&m(a)||n("Illegal dictionary for interpolated function");for(var s=i.length,c=[],h=0;s>h;++h)c.push(a[h]-i[h]);return[e,i,c,o]},constructInterpolatedFromIR:function(t){var e=t[1],n=t[2],r=t[3],i=n.length;return function(t){for(var a=1==r?t[0]:Math.pow(t[0],r),o=[],s=0;i>s;++s)o.push(e[s]+a*n[s]);return o}},constructStiched:function(t,e,r){var a=e.get("Domain");a||n("No domain");var o=a.length/2;1!=o&&n("Bad domain for stiched function");for(var s=e.get("Functions"),c=[],h=0,l=s.length;l>h;++h)c.push($.getIR(r,r.fetchIfRef(s[h])));var u=e.get("Bounds"),f=e.get("Encode");return[i,a,u,f,c]},constructStichedFromIR:function(t){for(var e=t[1],n=t[2],r=t[3],i=t[4],a=[],o=0,s=i.length;s>o;o++)a.push($.fromIR(i[o]));return function(t){for(var i=function(t,e,n){return t>n?t=n:e>t&&(t=e),t},o=i(t[0],e[0],e[1]),s=0,c=n.length;c>s&&!(o<n[s]);++s);var h=e[0];s>0&&(h=n[s-1]);var l=e[1];s<n.length&&(l=n[s]);var u=r[2*s],f=r[2*s+1],p=u+(o-h)*(f-u)/(l-h);return a[s]([p])}},constructPostScript:function(t,e,r){var i=e.get("Domain"),o=e.get("Range");i||n("No domain."),o||n("No range.");var s=new ot(t),c=new rt(s),h=c.parse();return[a,i,o,h]},constructPostScriptFromIR:function(t){var e=t[1],n=t[2],r=t[3],i=n.length/2,a=new nt(r),o=new tt;return function(t){for(var r=[],s=0,c=e.length/2;c>s;++s)r.push(t[s]);var h=r.join("_");if(o.has(h))return o.get(h);var l=a.execute(r),u=[];for(s=i-1;s>=0;--s){var f=l.pop(),p=2*s;f<n[p]?f=n[p]:f>n[p+1]&&(f=n[p+1]),u[s]=f}return o.set(h,u),u}}}}(),tt=function(){function t(){this.cache={},this.total=0}var e=1024;return t.prototype={has:function(t){return t in this.cache},get:function(t){return this.cache[t]},set:function(t,n){this.total<e&&(this.cache[t]=n,this.total++)}},t}(),et=function(){function t(t){this.stack=t||[]}var e=100;return t.prototype={push:function(t){this.stack.length>=e&&n("PostScript function stack overflow."),this.stack.push(t)},pop:function(){return this.stack.length<=0&&n("PostScript function stack underflow."),this.stack.pop()},copy:function(t){this.stack.length+t>=e&&n("PostScript function stack overflow.");for(var r=this.stack,i=r.length-t,a=t-1;a>=0;a--,i++)r.push(r[i])},index:function(t){this.push(this.stack[this.stack.length-t-1])},roll:function(t,e){var n,r,i,a=this.stack,o=a.length-t,s=a.length-1,c=o+(e-Math.floor(e/t)*t);for(n=o,r=s;r>n;n++,r--)i=a[n],a[n]=a[r],a[r]=i;for(n=o,r=c-1;r>n;n++,r--)i=a[n],a[n]=a[r],a[r]=i;for(n=c,r=s;r>n;n++,r--)i=a[n],a[n]=a[r],a[r]=i}},t}(),nt=function(){function t(t,e){this.operators=t,this.operands=e}return t.prototype={execute:function(t){for(var e,r,i,a=new et(t),o=0,s=this.operators,c=s.length;c>o;)if(e=s[o++],"number"!=typeof e)switch(e){case"jz":i=a.pop(),r=a.pop(),r||(o=i);break;case"j":r=a.pop(),o=r;break;case"abs":r=a.pop(),a.push(Math.abs(r));break;case"add":i=a.pop(),r=a.pop(),a.push(r+i);break;case"and":i=a.pop(),r=a.pop(),a.push(f(r)&&f(i)?r&&i:r&i);break;case"atan":r=a.pop(),a.push(Math.atan(r));break;case"bitshift":i=a.pop(),r=a.pop(),a.push(r>0?r<<i:r>>i);break;case"ceiling":r=a.pop(),a.push(Math.ceil(r));break;case"copy":r=a.pop(),a.copy(r);break;case"cos":r=a.pop(),a.push(Math.cos(r));break;case"cvi":r=0|a.pop(),a.push(r);break;case"cvr":break;case"div":i=a.pop(),r=a.pop(),a.push(r/i);break;case"dup":a.copy(1);break;case"eq":i=a.pop(),r=a.pop(),a.push(r==i);break;case"exch":a.roll(2,1);break;case"exp":i=a.pop(),r=a.pop(),a.push(Math.pow(r,i));break;case"false":a.push(!1);break;case"floor":r=a.pop(),a.push(Math.floor(r));break;case"ge":i=a.pop(),r=a.pop(),a.push(r>=i);break;case"gt":i=a.pop(),r=a.pop(),a.push(r>i);break;case"idiv":i=a.pop(),r=a.pop(),a.push(r/i|0);break;case"index":r=a.pop(),a.index(r);break;case"le":i=a.pop(),r=a.pop(),a.push(i>=r);break;case"ln":r=a.pop(),a.push(Math.log(r));break;case"log":r=a.pop(),a.push(Math.log(r)/Math.LN10);break;case"lt":i=a.pop(),r=a.pop(),a.push(i>r);break;case"mod":i=a.pop(),r=a.pop(),a.push(r%i);break;case"mul":i=a.pop(),r=a.pop(),a.push(r*i);break;case"ne":i=a.pop(),r=a.pop(),a.push(r!=i);break;case"neg":r=a.pop(),a.push(-i);break;case"not":r=a.pop(),a.push(f(r)&&f(i)?r&&i:r&i);break;case"or":i=a.pop(),r=a.pop(),a.push(f(r)&&f(i)?r||i:r|i);break;case"pop":a.pop();break;case"roll":i=a.pop(),r=a.pop(),a.roll(r,i);break;case"round":r=a.pop(),a.push(Math.round(r));break;case"sin":r=a.pop(),a.push(Math.sin(r));break;case"sqrt":r=a.pop(),a.push(Math.sqrt(r));break;case"sub":i=a.pop(),r=a.pop(),a.push(r-i);break;case"true":a.push(!0);break;case"truncate":r=a.pop(),r=0>r?Math.ceil(r):Math.floor(r),a.push(r);break;case"xor":i=a.pop(),r=a.pop(),a.push(f(r)&&f(i)?r!=i:r^i);break;default:n("Unknown operator "+e)}else a.push(e);return a.stack}},t}(),rt=function(){function t(t){this.lexer=t,this.operators=[],this.token=null,this.prev=null}return t.prototype={nextToken:function(){this.prev=this.token,this.token=this.lexer.getToken()},accept:function(t){return this.token.type==t?(this.nextToken(),!0):!1},expect:function(t){return this.accept(t)?!0:void n("Unexpected symbol: found "+this.token.type+" expected "+t+".")},parse:function(){return this.nextToken(),this.expect(it.LBRACE),this.parseBlock(),this.expect(it.RBRACE),this.operators},parseBlock:function(){for(;;)if(this.accept(it.NUMBER))this.operators.push(this.prev.value);else if(this.accept(it.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(it.LBRACE))return;this.parseCondition()}},parseCondition:function(){var t=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(it.RBRACE),this.accept(it.IF))this.operators[t]=this.operators.length,this.operators[t+1]="jz";else if(this.accept(it.LBRACE)){var e=this.operators.length;this.operators.push(null,null);var r=this.operators.length;this.parseBlock(),this.expect(it.RBRACE),this.expect(it.IFELSE),this.operators[e]=this.operators.length,this.operators[e+1]="j",this.operators[t]=r,this.operators[t+1]="jz"}else n("PS Function: error parsing conditional.")}},t}(),it={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},at=function(){function t(t,e){this.type=t,this.value=e}var e={};return t.getOperator=function(n){var r=e[n];return r?r:e[n]=new t(it.OPERATOR,n)},t.LBRACE=new t(it.LBRACE,"{"),t.RBRACE=new t(it.RBRACE,"}"),t.IF=new t(it.IF,"IF"),t.IFELSE=new t(it.IFELSE,"IFELSE"),t}(),ot=function(){function t(t){this.stream=t,this.nextChar()}return t.prototype={nextChar:function(){return this.currentChar=this.stream.getByte()},getToken:function(){for(var t=!1,e=this.currentChar;;){if(0>e)return EOF;if(t)(10===e||13===e)&&(t=!1);else if(37==e)t=!0;else if(!Lexer.isSpace(e))break;e=this.nextChar()}switch(0|e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new at(it.NUMBER,this.getNumber());case 123:return this.nextChar(),at.LBRACE;case 125:return this.nextChar(),at.RBRACE}for(var n=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=65&&90>=e||e>=97&&122>=e);)n+=String.fromCharCode(e);switch(n.toLowerCase()){case"if":return at.IF;case"ifelse":return at.IFELSE;default:return at.getOperator(n)}},getNumber:function(){for(var t=this.currentChar,e=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=48&&57>=t||45===t||46===t);)e+=String.fromCharCode(t);var r=parseFloat(e);return isNaN(r)&&n("Invalid floating point number: "+r),r}},t}(),st=function(){function t(t,e,n){var r=B.getAxialAlignedBoundingBox(e,n),i=r[0],a=r[1],o=r[2],s=r[3];if(i===o||a===s)return[1,0,0,1,t[0],t[1]];var c=(t[2]-t[0])/(o-i),h=(t[3]-t[1])/(s-a);return[c,0,0,h,t[0]-i*c,t[1]-a*h]}function e(t){var e=t.get("AP");if(g(e)){var n,r=e.get("N");if(g(r)){var i=t.get("AS");i&&r.has(i.name)&&(n=r.get(i.name))}else n=r;return n}}function n(t){if(t.data)return void(this.data=t.data);var n=t.dict,r=this.data={};r.subtype=n.get("Subtype").name;var i=n.get("Rect");r.rect=B.normalizeRect(i),r.annotationFlags=n.get("F");var a=n.get("C");if(r.color=m(a)&&3===a.length?a:[0,0,0],n.has("BS")){var o=n.get("BS");r.borderWidth=o.has("W")?o.get("W"):1}else{var s=n.get("Border")||[0,0,1];r.borderWidth=s[2]||0}this.appearance=e(n),r.hasAppearance=!!this.appearance}return n.prototype={getData:function(){return this.data},hasHtml:function(){return!1},getHtmlElement:function(t){throw new j("getHtmlElement() should be implemented in subclass")},getEmptyContainer:function(t,e){a(!D,"getEmptyContainer() should be called from main thread"),e=e||this.data.rect;var n=document.createElement(t);return n.style.width=Math.ceil(e[2]-e[0])+"px",n.style.height=Math.ceil(e[3]-e[1])+"px",n},isViewable:function(){var t=this.data;return!(!t||t.annotationFlags&&34&t.annotationFlags||!t.rect)},loadResources:function(t){var e=new J;return this.appearance.dict.getAsync("Resources").then(function(n){if(!n)return void e.resolve();var r=new ObjectLoader(n.map,t,n.xref);r.load().then(function(){e.resolve(n)})}.bind(this)),e},getOperatorList:function(e){var n=new J;if(!this.appearance)return n.resolve(new OperatorList),n;{var r=this.data,i=this.appearance.dict,a=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),o=i.get("BBox")||[0,0,1,1],s=i.get("Matrix")||[1,0,0,1,0,0],c=t(r.rect,o,s);r.border}return a.then(function(t){var i=new OperatorList;i.addOp("beginAnnotation",[r.rect,c,s]),e.getOperatorList(this.appearance,t,i),i.addOp("endAnnotation",[]),n.resolve(i)}.bind(this)),n}},n.getConstructor=function(t,e){if(t){if("Link"===t)return ut;if("Text"===t)return lt;if("Widget"===t){if(!e)return;return"Tx"===e?ht:ct}return n}},n.fromData=function(t){var e=t.subtype,r=t.fieldType,i=n.getConstructor(e,r);return i?new i({data:t}):void 0},n.fromRef=function(t,e){var i=t.fetchIfRef(e);if(g(i)){var a=i.get("Subtype");if(a=d(a)?a.name:""){var o=B.getInheritableProperty(i,"FT");o=d(o)?o.name:"";var s=n.getConstructor(a,o);if(s){var c={dict:i,ref:e},h=new s(c);return h.isViewable()?h:void r("unimplemented annotation type: "+a)}}}},n.appendToOperatorList=function(t,e,n,r){function i(t){a.reject(t)}for(var a=new J,o=[],s=0,c=t.length;c>s;++s)o.push(t[s].getOperatorList(r));return J.all(o).then(function(t){e.addOp("beginAnnotations",[]);for(var n=0,r=t.length;r>n;++n){var i=t[n];e.addOpList(i)}e.addOp("endAnnotations",[]),a.resolve()},i),a},n}();PDFJS.Annotation=st;var ct=function(){function t(t){if(st.call(this,t),!t.data){var e=t.dict,n=this.data;n.fieldValue=u(B.getInheritableProperty(e,"V")||""),n.alternativeText=u(e.get("TU")||""),n.defaultAppearance=B.getInheritableProperty(e,"DA")||"";var r=B.getInheritableProperty(e,"FT");n.fieldType=d(r)?r.name:"",n.fieldFlags=B.getInheritableProperty(e,"Ff")||0,this.fieldResources=B.getInheritableProperty(e,"DR")||new Dict;for(var i=[],a=e,o=t.ref;a;){var s=a.get("Parent"),c=a.getRaw("Parent"),h=a.get("T");if(h)i.unshift(u(h));else{var l,f,p=s.get("Kids");for(l=0,f=p.length;f>l;l++){var A=p[l];if(A.num==o.num&&A.gen==o.gen)break}i.unshift("`"+l)}a=s,o=c}n.fullName=i.join(".")}}var e=st.prototype;return B.inherit(t,st,{isViewable:function(){return"Sig"===this.data.fieldType?(r("unimplemented annotation type: Widget signature"),!1):e.isViewable.call(this)}}),t}(),ht=function(){function t(t){ct.call(this,t),t.data||(this.data.textAlignment=B.getInheritableProperty(t.dict,"Q"))}function e(t,e,n){var r=t.style;if(r.fontSize=e.fontSize+"px",r.direction=e.fontDirection<0?"rtl":"ltr",n){r.fontWeight=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",r.fontStyle=n.italic?"italic":"normal";var i=n.loadedName,a=i?'"'+i+'", ':"",o=n.fallbackName||"Helvetica, sans-serif";r.fontFamily=a+o}}ct.prototype;return B.inherit(t,ct,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(t){a(!D,"getHtmlElement() shall be called from main thread");var n=this.data,r=this.getEmptyContainer("div");r.style.display="table";var i=document.createElement("div");i.textContent=n.fieldValue;var o=n.textAlignment;i.style.textAlign=["left","center","right"][o],i.style.verticalAlign="middle",i.style.display="table-cell";{var s=n.fontRefName?t.getData(n.fontRefName):null;e(i,n,s)}return r.appendChild(i),r},getOperatorList:function(t){if(this.appearance)return st.prototype.getOperatorList.call(this,t);var e=new J,n=new OperatorList,r=this.data,i=r.defaultAppearance;if(!i)return e.resolve(n),e;var a=new Stream(l(i));t.getOperatorList(a,this.fieldResources,n);var o=n.fnArray,s=n.argsArray,c=[];r.rgb=[0,0,0];for(var h=0,u=c.length;u>h;++h){var f=o[h],p=s[h];if("setFont"===f){r.fontRefName=p[0];var A=p[1];0>A?(r.fontDirection=-1,r.fontSize=-A):(r.fontDirection=1,r.fontSize=A)}else if("setFillRGBColor"===f)r.rgb=p;else if("setFillGray"===f){var d=255*p[0];r.rgb=[d,d,d]}}return e.resolve(n),e}}),t}(),lt=function(){function t(t){if(st.call(this,t),!t.data){var e=t.dict,n=this.data,r=e.get("Contents"),i=e.get("T");n.content=u(r||""),n.title=u(i||""),n.name=e.has("Name")?e.get("Name").name:"Note"}}var e=10;return B.inherit(t,st,{getOperatorList:function(t){var e=new J;return e.resolve(new OperatorList),e},hasHtml:function(){return!0},getHtmlElement:function(t){a(!D,"getHtmlElement() shall be called from main thread");var n=this.data,r=n.rect;r[3]-r[1]<e&&(r[3]=r[1]+e),r[2]-r[0]<e&&(r[2]=r[0]+(r[3]-r[1]));var i=this.getEmptyContainer("section",r);i.className="annotText";var o=document.createElement("img");o.style.width=i.style.width,o.style.height=i.style.height;var s=n.name;o.src=PDFJS.imageResourcesPath+"annotation-"+s.toLowerCase()+".svg",o.alt="[{{type}} Annotation]",o.dataset.l10nId="text_annotation_type",o.dataset.l10nArgs=JSON.stringify({type:s});var c=document.createElement("div");c.setAttribute("hidden",!0);var h=document.createElement("h1"),l=document.createElement("p");if(c.style.left=Math.floor(r[2]-r[0])+"px",c.style.top="0px",h.textContent=n.title,n.content||n.title){for(var u=document.createElement("span"),f=n.content.split(/(?:\r\n?|\n)/),p=0,A=f.length;A>p;++p){var d=f[p];u.appendChild(document.createTextNode(d)),A-1>p&&u.appendChild(document.createElement("br"))}l.appendChild(u),o.addEventListener("mouseover",function(){i.style.zIndex+=1,c.removeAttribute("hidden")},!1),o.addEventListener("mouseout",function(){i.style.zIndex-=1,c.setAttribute("hidden",!0)},!1)}else c.setAttribute("hidden",!0);return c.appendChild(h),c.appendChild(l),i.appendChild(o),i.appendChild(c),i}}),t}(),ut=function(){function t(t){if(st.call(this,t),!t.data){var e=t.dict,n=this.data,i=e.get("A");if(i){var a=i.get("S").name;if("URI"===a){var o=i.get("URI");s(o,!1)||(o=""),n.url=o}else if("GoTo"===a)n.dest=i.get("D");else if("GoToR"===a){var c=i.get("F");g(c)&&(o=c.get("F")||""),s(o,!1)||(o=""),n.url=o,n.dest=i.get("D")}else"Named"===a?n.action=i.get("N").name:r("unrecognized link type: "+a)}else if(e.has("Dest")){var h=e.get("Dest");n.dest=d(h)?h.name:h}}}return B.inherit(t,st,{hasOperatorList:function(){return!1},hasHtml:function(){return!0},getHtmlElement:function(t){var e=this.data.rect,n=document.createElement("a"),r=this.data.borderWidth;n.style.borderWidth=r+"px";for(var i=this.data.color,a=[],o=0;3>o;++o)a[o]=Math.round(255*i[o]);n.style.borderColor=B.makeCssRgb(a),n.style.borderStyle="solid";var s=e[2]-e[0]-2*r,c=e[3]-e[1]-2*r;return n.style.width=s+"px",n.style.height=c+"px",n.href=this.data.url||"",n}}),t}();PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize,PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace,PDFJS.getDocument=function(t,e,r,i){var a,s,c;"string"==typeof t?t={url:t}:b(t)?t={data:t}:"object"!=typeof t&&n("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),t.url||t.data||n("Invalid parameter array, need either .data or .url");var h={};for(var l in t)h[l]="url"!==l||"undefined"==typeof window?t[l]:o(window.location.href,t[l]);return a=new PDFJS.Promise,s=new PDFJS.Promise,c=new At(a,s,e,i),a.then(function(){c.passwordCallback=r,c.fetchDocument(h)}),s};var ft=function(){function t(t,e){this.pdfInfo=t,this.transport=e}return t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},get embeddedFontsUsed(){return this.transport.embeddedFontsUsed},getPage:function(t){return this.transport.getPage(t)},getDestinations:function(){return this.transport.getDestinations()},getJavaScript:function(){var t=new PDFJS.Promise,e=this.pdfInfo.javaScript;return t.resolve(e),t},getOutline:function(){var t=new PDFJS.Promise,e=this.pdfInfo.outline;return t.resolve(e),t},getMetadata:function(){var t=new PDFJS.Promise,e=this.pdfInfo.info,n=this.pdfInfo.metadata;return t.resolve({info:e,metadata:n?new PDFJS.Metadata(n):null}),t},isEncrypted:function(){var t=new PDFJS.Promise;return t.resolve(this.pdfInfo.encrypted),t},getData:function(){var t=new PDFJS.Promise;return this.transport.getData(t),t},dataLoaded:function(){return this.transport.dataLoaded()},destroy:function(){this.transport.destroy()}},t}(),pt=function(){function t(t,e){this.pageInfo=t,this.transport=e,this.stats=new N,this.stats.enabled=!!w.PDFJS.enableStats,this.commonObjs=e.commonObjs,this.objs=new dt,this.receivingOperatorList=!1,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.renderTasks=[]}return t.prototype={get pageNumber(){return this.pageInfo.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(t,e){return arguments.length<2&&(e=this.rotate),new PDFJS.PageViewport(this.view,t,e,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var t=new PDFJS.Promise;return this.annotationsPromise=t,this.transport.getAnnotations(this.pageInfo.pageIndex),t},render:function(t){function e(t){var e=a.renderTasks.indexOf(r);e>=0&&a.renderTasks.splice(e,1),a.cleanupAfterRender&&(a.pendingDestroy=!0),a._tryDestroy(),t?i.reject(t):i.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")}var n=this.stats;n.time("Overall"),this.pendingDestroy=!1,this.displayReadyPromise||(this.receivingOperatorList=!0,this.displayReadyPromise=new J,this.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1}));var r=new mt(e,t,this.objs,this.commonObjs,this.operatorList,this.pageNumber);this.renderTasks.push(r);var i=new gt(r),a=this;return this.displayReadyPromise.then(function(t){return a.pendingDestroy?void e():(n.time("Rendering"),r.initalizeGraphics(t),void r.operatorListChanged())},function(t){e(t)}),i},getTextContent:function(){var t=new PDFJS.Promise;return this.transport.messageHandler.send("GetTextContent",{pageIndex:this.pageNumber-1},function(e){t.resolve(e)}),t},getOperationList:function(){var t=new PDFJS.Promise,e={dependencyFontsID:null,operatorList:null};return t.resolve(e),t},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&0===this.renderTasks.length&&!this.receivingOperatorList&&(delete this.operatorList,delete this.displayReadyPromise,this.objs.clear(),this.pendingDestroy=!1)},_startRenderPage:function(t){this.displayReadyPromise.resolve(t)},_renderPageChunk:function(t){B.concatenateToArray(this.operatorList.fnArray,t.fnArray),B.concatenateToArray(this.operatorList.argsArray,t.argsArray),this.operatorList.lastChunk=t.lastChunk;for(var e=0;e<this.renderTasks.length;e++)this.renderTasks[e].operatorListChanged();t.lastChunk&&(this.receivingOperatorList=!1,this._tryDestroy())}},t}(),At=function(){function r(e,r,i,a){if(this.pdfDataRangeTransport=i,this.workerReadyPromise=r,this.progressCallback=a,this.commonObjs=new dt,this.pageCache=[],this.pagePromises=[],this.embeddedFontsUsed=!1,this.passwordCallback=null,!w.PDFJS.disableWorker&&"undefined"!=typeof Worker){var o=PDFJS.workerSrc;"undefined"==typeof o&&n("No PDFJS.workerSrc specified");try{var s=new Worker(o),c=new x("main",s);this.messageHandler=c,c.on("test",function(t){t?(this.worker=s,this.setupMessageHandler(c)):(w.PDFJS.disableWorker=!0,this.setupFakeWorker()),e.resolve()}.bind(this));var h=new Uint8Array(1);return void c.send("test",h)}catch(l){t("The worker has been disabled.")}}w.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),e.resolve()}.bind(this))}return r.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var t=this;this.messageHandler.send("Terminate",null,function(){t.worker&&t.worker.terminate()})},loadFakeWorkerFiles:function(){return PDFJS.fakeWorkerFilesLoadedPromise||(PDFJS.fakeWorkerFilesLoadedPromise=new J,B.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedPromise.resolve()})),PDFJS.fakeWorkerFilesLoadedPromise},setupFakeWorker:function(){e("Setting up fake worker.");var t={postMessage:function(e){t.onmessage({data:e})},terminate:function(){}},n=new x("main",t);this.setupMessageHandler(n),PDFJS.WorkerMessageHandler.setup(n)},setupMessageHandler:function(t){function r(e){t.send("UpdatePassword",e)}this.messageHandler=t;var i=this.pdfDataRangeTransport;i&&(i.addRangeListener(function(e,n){t.send("OnDataRange",{begin:e,chunk:n})}),i.addProgressListener(function(e){t.send("OnDataProgress",{loaded:e})}),t.on("RequestDataRange",function(t){i.requestDataRange(t.begin,t.end)},this)),t.on("GetDoc",function(t){var e=t.pdfInfo,n=new ft(e,this);this.pdfDocument=n,this.workerReadyPromise.resolve(n)},this),t.on("NeedPassword",function(t){return this.passwordCallback?this.passwordCallback(r,M.NEED_PASSWORD):void this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("IncorrectPassword",function(t){return this.passwordCallback?this.passwordCallback(r,M.INCORRECT_PASSWORD):void this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("InvalidPDF",function(t){this.workerReadyPromise.reject(t.exception.name,t.exception)},this),t.on("MissingPDF",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("UnknownError",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("GetPage",function(t){var e=t.pageInfo,n=new pt(e,this);this.pageCache[e.pageIndex]=n;var r=this.pagePromises[e.pageIndex];r.resolve(n)},this),t.on("GetAnnotations",function(t){var e=t.annotations,n=this.pageCache[t.pageIndex].annotationsPromise;n.resolve(e)},this),t.on("StartRenderPage",function(t){var e=this.pageCache[t.pageIndex];e.stats.timeEnd("Page Request"),e._startRenderPage(t.transparency)},this),t.on("RenderPageChunk",function(t){var e=this.pageCache[t.pageIndex];e._renderPageChunk(t.operatorList)},this),t.on("commonobj",function(t){var n=t[0],r=t[1];if(!this.commonObjs.hasData(n))switch(r){case"Font":var i,a=t[2];if("error"in a){var o=a.error;e("Error during font loading: "+o),this.commonObjs.resolve(n,o);break}i=new Rt(a),St.bind([i],function(t){this.commonObjs.resolve(n,i)}.bind(this));break;case"FontPath":this.commonObjs.resolve(n,t[2]);break;default:o("Got unknown common object type "+r)}},this),t.on("obj",function(t){var e=t[0],r=t[1],i=t[2],a=this.pageCache[r];if(!a.objs.hasData(e))switch(i){case"JpegStream":var o=t[3];C(e,o,a.objs);break;case"Image":var o=t[3];a.objs.resolve(e,o);var s=8e6;"data"in o&&o.data.length>s&&(a.cleanupAfterRender=!0);break;default:n("Got unknown object type "+i)}},this),t.on("DocProgress",function(t){this.progressCallback&&this.progressCallback({loaded:t.loaded,total:t.total})},this),t.on("DocError",function(t){this.workerReadyPromise.reject(t)},this),t.on("PageError",function(t){var e=this.pageCache[t.pageNum-1];e.displayReadyPromise?e.displayReadyPromise.reject(t.error):n(t.error)},this),t.on("JpegDecode",function(t,e){var r=t[0],i=t[1];3!=i&&1!=i&&n("Only 3 component or 1 component can be returned");var a=new Image;a.onload=function(){var t=a.width,n=a.height,r=t*n,o=4*r,s=new Uint8Array(r*i),c=S(t,n),h=c.getContext("2d");h.drawImage(a,0,0);var l=h.getImageData(0,0,t,n).data;if(3==i)for(var u=0,f=0;o>u;u+=4,f+=3)s[f]=l[u],s[f+1]=l[u+1],s[f+2]=l[u+2];else if(1==i)for(var u=0,f=0;o>u;u+=4,f++)s[f]=l[u];e.resolve({data:s,width:t,height:n})}.bind(this);var o="data:image/jpeg;base64,"+window.btoa(r);a.src=o})},fetchDocument:function(t){t.disableAutoFetch=PDFJS.disableAutoFetch,t.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.messageHandler.send("GetDocRequest",{source:t,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,disableFontFace:PDFJS.disableFontFace})},getData:function(t){this.messageHandler.send("GetData",null,function(e){t.resolve(e)})},dataLoaded:function(){var t=new PDFJS.Promise;return this.messageHandler.send("DataLoaded",null,function(e){t.resolve(e)}),t},getPage:function(t,e){var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var e=new PDFJS.Promise("Page "+t);return this.pagePromises[n]=e,this.messageHandler.send("GetPageRequest",{pageIndex:n}),e},getAnnotations:function(t){this.messageHandler.send("GetAnnotationsRequest",{pageIndex:t})},getDestinations:function(){var t=new PDFJS.Promise;return this.messageHandler.send("GetDestinations",null,function(e){t.resolve(e)}),t}},r}(),dt=function(){function t(){this.objs={}}return t.prototype={ensureObj:function(t){if(this.objs[t])return this.objs[t];var e={promise:new J(t),data:null,resolved:!1};return this.objs[t]=e,e},get:function(t,e){if(e)return this.ensureObj(t).promise.then(e),null;var r=this.objs[t];return r&&r.resolved||n("Requesting object that isn't resolved yet "+t),r.data},resolve:function(t,e){var n=this.ensureObj(t);n.resolved=!0,n.data=e,n.promise.resolve(e)},isResolved:function(t){var e=this.objs;return e[t]?e[t].resolved:!1},hasData:function(t){return this.isResolved(t)},getData:function(t){var e=this.objs;return e[t]&&e[t].resolved?e[t].data:null},clear:function(){this.objs={}}},t}(),gt=function(){function t(t){this.internalRenderTask=t,J.call(this)}return t.prototype=Object.create(J.prototype),t.prototype.cancel=function(){this.internalRenderTask.cancel()},t}(),mt=function(){function t(t,e,n,r,i,a){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.operatorListIdx=null,this.operatorList=i,this.pageNumber=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1}return t.prototype={initalizeGraphics:function(t){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in w&&w.StepperManager.enabled&&(this.stepper=w.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var e=this.params;this.gfx=new Ct(e.canvasContext,this.commonObjs,this.objs,e.textLayer,e.imageLayer),this.gfx.beginDrawing(e.viewport,t),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continue.bind(this)))},_continue:function(){this.running=!0,this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._next.bind(this)):this._next())},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continue.bind(this),this.stepper),this.operatorListIdx===this.operatorList.fnArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},t}(),vt=(PDFJS.Metadata=function(){function t(t){return t.replace(/>\\376\\377([^<]+)/g,function(t,e){for(var n=e.replace(/\\([0-3])([0-7])([0-7])/g,function(t,e,n,r){return String.fromCharCode(64*e+8*n+1*r)}),r="",i=0;i<n.length;i+=2){var a=256*n.charCodeAt(i)+n.charCodeAt(i+1);r+="&#x"+(65536+a).toString(16).substring(1)+";"}return">"+r})}function e(e){if("string"==typeof e){e=t(e);var r=new DOMParser;e=r.parseFromString(e,"application/xml")}else e instanceof Document||n("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata={},this.parse()}return e.prototype={parse:function(){var t=this.metaDocument,e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var n=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===n&&e.hasChildNodes()){var r,i,a,o,s,c,h,l=e.childNodes;for(o=0,c=l.length;c>o;o++)if(r=l[o],"rdf:description"===r.nodeName.toLowerCase())for(s=0,h=r.childNodes.length;h>s;s++)"#text"!==r.childNodes[s].nodeName.toLowerCase()&&(i=r.childNodes[s],a=i.nodeName.toLowerCase(),this.metadata[a]=i.textContent.trim())}},get:function(t){return this.metadata[t]||null},has:function(t){return"undefined"!=typeof this.metadata[t]}},e}(),16),bt=!0,yt=function(){var t={};return{getCanvas:function(e,n,r){var i;return e in t?(i=t[e],i.width=n,i.height=r,i.getContext("2d").setTransform(1,0,0,1,0,0)):(i=S(n,r),t[e]=i),i},clear:function(){t={}}}}(),xt=function(){function t(t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=E,this.fontMatrix=T,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=L.FILL,this.textRise=0,this.fillColorSpace=z.singletons.gray,this.fillColorSpaceObj=null,this.strokeColorSpace=z.singletons.gray,this.strokeColorSpaceObj=null,this.fillColorObj=null,this.strokeColorObj=null,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.paintFormXObjectDepth=0,this.old=t}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),Ct=function(){function i(t,e,n,r,i){this.ctx=t,this.current=new xt,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.textLayer=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],t&&R(t)}function o(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);var n=t.createImageData(e.width,e.height),r=e.data,i=n.data;if("set"in i)i.set(r);else for(var a=0,o=i.length;o>a;a++)i[a]=r[a];t.putImageData(n,0,0)}function s(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;i>r;r++){var a=n[r];a in t&&(e[a]=t[a])}"setLineDash"in t?(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset):"mozDash"in t&&(e.mozDash=t.mozDash,e.mozDashOffset=t.mozDashOffset)}var c=15,h=["butt","round","square"],l=["miter","round","bevel"],u={},f={};return i.prototype={slowCommands:{stroke:!0,closeStroke:!0,fill:!0,eoFill:!0,fillStroke:!0,eoFillStroke:!0,closeFillStroke:!0,closeEOFillStroke:!0,showText:!0,showSpacedText:!0,setStrokeColorSpace:!0,setFillColorSpace:!0,setStrokeColor:!0,setStrokeColorN:!0,setFillColor:!0,setFillColorN:!0,setStrokeGray:!0,setFillGray:!0,setStrokeRGBColor:!0,setFillRGBColor:!0,setStrokeCMYKColor:!0,setFillCMYKColor:!0,paintJpegXObject:!0,paintImageXObject:!0,paintInlineImageXObject:!0,paintInlineImageXObjectGroup:!0,paintImageMaskXObject:!0,paintImageMaskXObjectGroup:!0,shadingFill:!0},beginDrawing:function(t,e){var n=this.ctx.canvas.width,r=this.ctx.canvas.height;e?this.ctx.clearRect(0,0,n,r):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",
this.ctx.fillRect(0,0,n,r),this.ctx.restore());var i=t.transform;this.baseTransform=i.slice(),this.ctx.save(),this.ctx.transform.apply(this.ctx,i),this.textLayer&&this.textLayer.beginLayout(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,n,r){var i=t.argsArray,a=t.fnArray,o=e||0,s=i.length;if(s==o)return o;for(var h,l=Date.now()+c,u=this.commonObjs,f=this.objs,p=this.slowCommands;;){if(r&&o===r.nextBreakPoint)return r.breakIt(o,n),o;if(h=a[o],"dependency"!==h)this[h].apply(this,i[o]);else for(var A=i[o],d=0,g=A.length;g>d;d++){var m=A[d],v="g_"==m.substring(0,2);if(!v&&!f.isResolved(m))return f.get(m,n),o;if(v&&!u.isResolved(m))return u.get(m,n),o}if(o++,o==s)return o;if(n&&p[h]&&Date.now()>l)return setTimeout(n,0),o}},endDrawing:function(){this.ctx.restore(),yt.clear(),this.textLayer&&this.textLayer.endLayout(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=h[t]},setLineJoin:function(t){this.ctx.lineJoin=l[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;"setLineDash"in n?(n.setLineDash(t),n.lineDashOffset=e):(n.mozDash=t,n.mozDashOffset=e)},setRenderingIntent:function(t){},setFlatness:function(t){},setGState:function(t){for(var n=0,r=t.length;r>n;n++){var i=t[n],a=i[0],o=i[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":if(o&&o.name&&"Normal"!==o.name){var s=o.name.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=s,this.ctx.globalCompositeOperation!==s&&e('globalCompositeOperation "'+s+'" is not supported')}else this.ctx.globalCompositeOperation="source-over"}}},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone()},restore:function(){var t=this.stateStack.pop();t&&(this.current=t,this.ctx.restore())},transform:function(t,e,n,r,i,a){this.ctx.transform(t,e,n,r,i,a)},moveTo:function(t,e){this.ctx.moveTo(t,e),this.current.setCurrentPoint(t,e)},lineTo:function(t,e){this.ctx.lineTo(t,e),this.current.setCurrentPoint(t,e)},curveTo:function(t,e,n,r,i,a){this.ctx.bezierCurveTo(t,e,n,r,i,a),this.current.setCurrentPoint(i,a)},curveTo2:function(t,e,n,r){var i=this.current;this.ctx.bezierCurveTo(i.x,i.y,t,e,n,r),i.setCurrentPoint(n,r)},curveTo3:function(t,e,n,r){this.curveTo(t,e,n,r,n,r),this.current.setCurrentPoint(n,r)},closePath:function(){this.ctx.closePath()},rectangle:function(t,e,n,r){this.ctx.rect(t,e,n,r)},stroke:function(t){t="undefined"!=typeof t?t:!0;var e=this.ctx,n=this.current.strokeColor;0===this.current.lineWidth&&(e.lineWidth=this.getSinglePixelWidth()),e.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(e.save(),e.strokeStyle=n.getPattern(e),e.stroke(),e.restore()):e.stroke(),t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t="undefined"!=typeof t?t:!0;var e=this.ctx,n=this.current.fillColor,r=!1;if(n&&n.hasOwnProperty("type")&&"Pattern"===n.type&&(e.save(),e.fillStyle=n.getPattern(e),r=!0),this.pendingEOFill){if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.fill(),this.ctx.mozFillRule="nonzero";else try{this.ctx.fill("evenodd")}catch(i){this.ctx.fill()}this.pendingEOFill=!1}else this.ctx.fill();r&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=u},eoClip:function(){this.pendingClip=f},beginText:function(){this.current.textMatrix=E,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){if(!("pendingTextPaths"in this))return void this.ctx.beginPath();var t=this.pendingTextPaths,e=this.ctx;e.save(),e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.setTransform.apply(e,r.transform),e.translate(r.x,r.y),r.addToPath(e,r.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,r){var i=this.commonObjs.get(t),a=this.current;if(i||n("Can't find font for "+t),a.fontMatrix=i.fontMatrix?i.fontMatrix:T,(0===a.fontMatrix[0]||0===a.fontMatrix[3])&&e("Invalid font matrix for font "+t),0>r?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,!i.coded){var o=i.loadedName||"sans-serif",s=i.black?i.bold?"bolder":"bold":i.bold?"bold":"normal",c=i.italic?"italic":"normal",h='"'+o+'", '+i.fallbackName,l=r>=vt?r:vt;this.current.fontSizeScale=l!=vt?1:r/vt;var u=c+" "+s+" "+l+"px "+h;this.ctx.font=u}},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,r,i,a){this.current.textMatrix=[t,e,n,r,i,a],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var t=this.ctx,e=this.current;t.transform.apply(t,e.textMatrix),t.translate(e.x,e.y+e.textRise),e.fontDirection>0?t.scale(e.textHScale,-1):t.scale(-e.textHScale,1)},createTextGeometry:function(){var t={},e=this.ctx,n=this.current.font,r=e.mozCurrentTransform,i=r[0],a=r[1],o=r[2],s=r[3],c=r[4],h=r[5],l=i>=0?Math.sqrt(i*i+a*a):-Math.sqrt(i*i+a*a),u=s>=0?Math.sqrt(o*o+s*s):-Math.sqrt(o*o+s*s),f=Math.atan2(a,i),p=c,A=h;return t.x=p,t.y=A,t.hScale=l,t.vScale=u,t.angle=f,t.spaceWidth=n.spaceWidth,t.fontName=n.loadedName,t.fontFamily=n.fallbackName,t.fontSize=this.current.fontSize,t},paintChar:function(t,e,n){var r,i=this.ctx,a=this.current,o=a.font,s=a.fontSize/a.fontSizeScale,c=a.textRenderingMode,h=c&L.FILL_STROKE_MASK,l=!!(c&L.ADD_TO_PATH_FLAG);if((o.disableFontFace||l)&&(r=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace?(i.save(),i.translate(e,n),i.beginPath(),r(i,s),(h===L.FILL||h===L.FILL_STROKE)&&i.fill(),(h===L.STROKE||h===L.FILL_STROKE)&&i.stroke(),i.restore()):((h===L.FILL||h===L.FILL_STROKE)&&i.fillText(t,e,n),(h===L.STROKE||h===L.FILL_STROKE)&&i.strokeText(t,e,n)),l){var u=this.pendingTextPaths||(this.pendingTextPaths=[]);u.push({transform:i.mozCurrentTransform,x:e,y:n,fontSize:s,addToPath:r})}},showText:function(t,e){var n,r=this.ctx,i=this.current,a=i.font,o=i.fontSize,s=i.fontSizeScale,c=i.charSpacing,h=i.wordSpacing,l=i.textHScale*i.fontDirection,u=i.fontMatrix||T,f=t.length,p=this.textLayer,A=p&&!e?!0:!1,d=0,g=a.vertical,m=a.defaultVMetrics;if(a.coded){r.save(),r.transform.apply(r,i.textMatrix),r.translate(i.x,i.y),r.scale(l,1),A&&(this.save(),r.scale(1,-1),n=this.createTextGeometry(),this.restore());for(var v=0;f>v;++v){var b=t[v];if(null!==b){this.processingType3=b,this.save(),r.scale(o,o),r.transform.apply(r,u),this.executeOperatorList(b.operatorList),this.restore();var y=B.applyTransform([b.width,0],u),x=(y[0]*o+c)*i.fontDirection;r.translate(x,0),i.x+=x*l,d+=x}else this.ctx.translate(h,0),i.x+=h*l}r.restore(),this.processingType3=null}else{r.save(),this.applyTextTransforms();var C=i.lineWidth,S=i.textMatrix[0],R=i.textMatrix[1],k=Math.sqrt(S*S+R*R);0===k||0===C?C=this.getSinglePixelWidth():C/=k,A&&(n=this.createTextGeometry()),1!=s&&(r.scale(s,s),C/=s),r.lineWidth=C;for(var w=0,v=0;f>v;++v){var b=t[v];if(null!==b){var D=!1,P=b.fontChar,I=b.vmetric||m;if(g){var F=b.vmetric?I[1]:.5*b.width;F=-F*o*i.fontMatrix[0];var L=I[2]*o*i.fontMatrix[0]}var O,M,j,E,x=I?-I[0]:b.width,_=x*o*i.fontMatrix[0]+c*i.fontDirection,J=b.accent;if(!b.disabled){if(g?(O=F/s,M=(w+L)/s):(O=w/s,M=0),a.remeasure&&x>0){var N=1e3*r.measureText(P).width/i.fontSize*i.fontSizeScale,z=x/N;D=!0,r.save(),r.scale(z,1),O/=z,J&&(j/=z)}this.paintChar(P,O,M),J&&(j=O+J.offset.x/s,E=M-J.offset.y/s,this.paintChar(J.fontChar,j,E))}w+=_,d+=_,D&&r.restore()}else w+=i.fontDirection*h}g?i.y-=w*l:i.x+=w*l,r.restore()}if(A){if(n.canvasWidth=d,g){var G=Math.PI/2;n.angle+=G}this.textLayer.appendText(n)}return d},showSpacedText:function(t){var e,n=this.ctx,r=this.current,i=r.font,a=r.fontSize,o=.001*r.textHScale*r.fontDirection,s=t.length,c=this.textLayer,h=0,l=c?!0:!1,u=i.vertical,f=0;l&&(n.save(),this.applyTextTransforms(),e=this.createTextGeometry(),n.restore());for(var A=0;s>A;++A){var d=t[A];if(p(d)){var g=-d*a*o;u?r.y+=g:r.x+=g,l&&(f+=g)}else{var m=this.showText(d,!0);l&&(h+=f+m,f=0)}}if(l){if(e.canvasWidth=h,u){var v=Math.PI/2;e.angle+=v}this.textLayer.appendText(e)}},nextLineShowText:function(t){this.nextLine(),this.showText(t)},nextLineSetSpacingShowText:function(t,e,n){this.setWordSpacing(t),this.setCharSpacing(e),this.nextLineShowText(n)},setCharWidth:function(t,e){},setCharWidthAndBounds:function(t,e,n,r,i,a){this.rectangle(n,r,i-n,a-r),this.clip(),this.endPath()},setStrokeColorSpace:function(t){this.current.strokeColorSpace=z.fromIR(t)},setFillColorSpace:function(t){this.current.fillColorSpace=z.fromIR(t)},setStrokeColor:function(){var t=this.current.strokeColorSpace,e=t.getRgb(arguments,0),n=B.makeCssRgb(e);this.ctx.strokeStyle=n,this.current.strokeColor=n},getColorN_Pattern:function(t,e){if("TilingPattern"==t[0]){var r,i=t[1],a=e.base;if(a){{a.numComps}r=a.getRgb(i,0)}var o=new Z(t,r,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else if("RadialAxial"==t[0]||"Dummy"==t[0])var o=K.shadingFromIR(t);else n("Unkown IR type "+t[0]);return o},setStrokeColorN:function(){var t=this.current.strokeColorSpace;"Pattern"==t.name?this.current.strokeColor=this.getColorN_Pattern(arguments,t):this.setStrokeColor.apply(this,arguments)},setFillColor:function(){var t=this.current.fillColorSpace,e=t.getRgb(arguments,0),n=B.makeCssRgb(e);this.ctx.fillStyle=n,this.current.fillColor=n},setFillColorN:function(){var t=this.current.fillColorSpace;"Pattern"==t.name?this.current.fillColor=this.getColorN_Pattern(arguments,t):this.setFillColor.apply(this,arguments)},setStrokeGray:function(t){this.current.strokeColorSpace=z.singletons.gray;var e=this.current.strokeColorSpace.getRgb(arguments,0),n=B.makeCssRgb(e);this.ctx.strokeStyle=n,this.current.strokeColor=n},setFillGray:function(t){this.current.fillColorSpace=z.singletons.gray;var e=this.current.fillColorSpace.getRgb(arguments,0),n=B.makeCssRgb(e);this.ctx.fillStyle=n,this.current.fillColor=n},setStrokeRGBColor:function(t,e,n){this.current.strokeColorSpace=z.singletons.rgb;var r=this.current.strokeColorSpace.getRgb(arguments,0),i=B.makeCssRgb(r);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(t,e,n){this.current.fillColorSpace=z.singletons.rgb;var r=this.current.fillColorSpace.getRgb(arguments,0),i=B.makeCssRgb(r);this.ctx.fillStyle=i,this.current.fillColor=i},setStrokeCMYKColor:function(t,e,n,r){this.current.strokeColorSpace=z.singletons.cmyk;var i=B.makeCssCmyk(arguments);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillCMYKColor:function(t,e,n,r){this.current.fillColorSpace=z.singletons.cmyk;var i=B.makeCssCmyk(arguments);this.ctx.fillStyle=i,this.current.fillColor=i},shadingFill:function(t){var e=this.ctx;this.save();var n=K.shadingFromIR(t);e.fillStyle=n.getPattern(e);var r=e.mozCurrentTransformInverse;if(r){var i=e.canvas,a=i.width,o=i.height,s=B.applyTransform([0,0],r),c=B.applyTransform([0,o],r),h=B.applyTransform([a,0],r),l=B.applyTransform([a,o],r),u=Math.min(s[0],c[0],h[0],l[0]),f=Math.min(s[1],c[1],h[1],l[1]),p=Math.max(s[0],c[0],h[0],l[0]),A=Math.max(s[1],c[1],h[1],l[1]);this.ctx.fillRect(u,f,p-u,A-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){n("Should not call beginInlineImage")},beginImageData:function(){n("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){if(this.save(),this.current.paintFormXObjectDepth++,this.baseTransformStack.push(this.baseTransform),t&&m(t)&&6==t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&m(e)&&4==e.length){var n=e[2]-e[0],r=e[3]-e[1];this.rectangle(e[0],e[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){var t=this.current.paintFormXObjectDepth;do this.restore();while(this.current.paintFormXObjectDepth>=t);this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var n=this.ctx;e.isolated||t("TODO: Support non-isolated groups."),e.knockout&&r("Support knockout groups.");var i=n.mozCurrentTransform;e.matrix&&n.transform.apply(n,e.matrix),a(e.bbox,"Bounding box is required.");var o=B.getAxialAlignedBoundingBox(e.bbox,n.mozCurrentTransform),c=Math.max(Math.ceil(o[2]-o[0]),1),h=Math.max(Math.ceil(o[3]-o[1]),1),l=S(c,h),u=l.getContext("2d");R(u);var f=o[0],p=o[1];u.translate(-f,-p),u.transform.apply(u,i),n.setTransform(1,0,0,1,0,0),n.translate(f,p),s(n,u),this.ctx=u,this.setGState([["SMask","None"],["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(n)},endGroup:function(t){var e=this.ctx;this.ctx=this.groupStack.pop(),"imageSmoothingEnabled"in this.ctx?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new xt},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){if(this.save(),t&&m(t)&&4==t.length){var r=t[2]-t[0],i=t[3]-t[1];this.rectangle(t[0],t[1],r,i),this.clip(),this.endPath()}this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,e,r){var i=this.objs.get(t);i||n("Dependent image isn't ready yet"),this.save();var a=this.ctx;if(a.scale(1/e,-1/r),a.drawImage(i,0,0,i.width,i.height,0,-r,e,r),this.imageLayer){var o=a.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:s[0],top:s[1],width:e/o[0],height:r/o[3]})}this.restore()},paintImageMaskXObject:function(t){var e=this.ctx,n=t.width,r=t.height,i=this.processingType3;if(bt&&i&&!("compiled"in i)){var a=1e3;i.compiled=a>=n&&a>=r?k({data:t.data,width:n,height:r}):null}if(i&&i.compiled)return void i.compiled(e);var s=yt.getCanvas("maskCanvas",n,r),c=s.getContext("2d");c.save(),o(c,t),c.globalCompositeOperation="source-in";var h=this.current.fillColor;c.fillStyle=h&&h.hasOwnProperty("type")&&"Pattern"===h.type?h.getPattern(c):h,c.fillRect(0,0,n,r),c.restore(),this.paintInlineImageXObject(s)},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,n=0,r=t.length;r>n;n++){var i=t[n],a=i.width,s=i.height,c=yt.getCanvas("maskCanvas",a,s),h=c.getContext("2d");h.save(),o(h,i),h.globalCompositeOperation="source-in";var l=this.current.fillColor;h.fillStyle=l&&l.hasOwnProperty("type")&&"Pattern"===l.type?l.getPattern(h):l,h.fillRect(0,0,a,s),h.restore(),e.save(),e.transform.apply(e,i.transform),e.scale(1,-1),e.drawImage(c,0,0,a,s,0,-1,1,1),e.restore()}},paintImageXObject:function(t){var e=this.objs.get(t);e||n("Dependent image isn't ready yet"),this.paintInlineImageXObject(e)},paintInlineImageXObject:function(t){var e=t.width,n=t.height,r=this.ctx;this.save(),r.scale(1/e,-1/n);var i,a=r.mozCurrentTransformInverse,s=a[0],c=a[1],h=Math.max(Math.sqrt(s*s+c*c),1),l=a[2],u=a[3],f=Math.max(Math.sqrt(l*l+u*u),1);if(t instanceof HTMLElement)i=t;else{var p=yt.getCanvas("inlineImage",e,n),A=p.getContext("2d");o(A,t),i=p}for(var d=e,g=n,m="prescale1";h>2&&d>1||f>2&&g>1;){var v=d,b=g;h>2&&d>1&&(v=Math.ceil(d/2),h/=d/v),f>2&&g>1&&(b=Math.ceil(g/2),f/=g/b);var p=yt.getCanvas(m,v,b);A=p.getContext("2d"),A.clearRect(0,0,v,b),A.drawImage(i,0,0,d,g,0,0,v,b),i=p,d=v,g=b,m="prescale1"===m?"prescale2":"prescale1"}if(r.drawImage(i,0,0,d,g,0,-n,e,n),this.imageLayer){var y=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:y[0],top:y[1],width:e/a[0],height:n/a[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,e){var n=this.ctx,r=t.width,i=t.height,a=yt.getCanvas("inlineImage",r,i),s=a.getContext("2d");o(s,t);for(var c=0,h=e.length;h>c;c++){var l=e[c];if(n.save(),n.transform.apply(n,l.transform),n.scale(1,-1),n.drawImage(a,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:t,left:u[0],top:u[1],width:r,height:i})}n.restore()}},markPoint:function(t){},markPointProps:function(t,e){},beginMarkedContent:function(t){},beginMarkedContentProps:function(t,e){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){if(this.pendingClip){if(this.pendingClip==f)if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.clip(),this.ctx.mozFillRule="nonzero";else try{this.ctx.clip("evenodd")}catch(t){this.ctx.clip()}else this.ctx.clip();this.pendingClip=null}this.ctx.beginPath()},getSinglePixelWidth:function(t){var e=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}},i}();PDFJS.disableFontFace=!1;var St={insertRule:function(t){var e=document.getElementById("PDFJS_FONT_STYLE_TAG");e||(e=document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)},get loadTestFont(){return c(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(D)return!1;var t=window.navigator.userAgent,e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(t);return e&&e[1]>=14?!0:!1}(),bind:function(t,e){a(!D,"bind() shall be called from main thread");for(var n=[],r=[],i=0,o=t.length;o>i;i++){var s=t[i];if(!s.attached&&s.loading!==!1){s.attached=!0;var c=s.bindDOM();c&&(n.push(c),r.push(s))}}var h=St.queueLoadingCallback(e);n.length>0&&!this.isSyncFontLoadingSupported?St.prepareFontLoadEvent(n,r,h):h.complete()},queueLoadingCallback:function(t){function e(){for(a(!i.end,"completeRequest() cannot be called twice"),i.end=Date.now();n.requests.length>0&&n.requests[0].end;){var t=n.requests.shift();setTimeout(t.callback,0)}}var n=St.loadingContext,r="pdfjs-font-loading-"+n.nextRequestId++,i={id:r,complete:e,callback:t,started:Date.now()};return n.requests.push(i),i},prepareFontLoadEvent:function(t,n,r){function i(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function a(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)}function o(t,e,n,r){var i=A.substr(0,e),a=A.substr(e+n);return i+r+a}function s(t,n){if(f++,f>30)return e("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20);var r=u.getImageData(0,0,1,1);return r.data[3]>0?void n():void setTimeout(s.bind(null,t,n))}var c,h,l=document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),f=0,p="lt"+Date.now()+this.loadTestFontId++,A=this.loadTestFont,d=976;A=o(A,d,p.length,p);var g=16,m=1482184792,v=i(A,g);for(c=0,h=p.length-3;h>c;c+=4)v=v-m+i(p,c)|0;c<p.length&&(v=v-m+i(p+"XXX",c)|0),A=o(A,g,4,a(v));var b="url(data:font/opentype;base64,"+btoa(A)+");",y='@font-face { font-family:"'+p+'";src:'+b+"}";St.insertRule(y);var x=[];for(c=0,h=n.length;h>c;c++)x.push(n[c].loadedName);x.push(p);var C=document.createElement("div");for(C.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),c=0,h=x.length;h>c;++c){var S=document.createElement("span");S.textContent="Hi",S.style.fontFamily=x[c],C.appendChild(S)}document.body.appendChild(C),s(p,function(){document.body.removeChild(C),r.complete()})}},Rt=function(){function t(t,e,n){if(this.compiledGlyphs={},1!==arguments.length);else{var r=arguments[0];for(var i in r)this[i]=r[i]}}return t.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var t=h(this.data),e=this.loadedName,n="url(data:"+this.mimetype+";base64,"+window.btoa(t)+");",r='@font-face { font-family:"'+e+'";src:'+n+"}";return St.insertRule(r),PDFJS.pdfBug&&"FontInspector"in w&&w.FontInspector.enabled&&w.FontInspector.fontAdded(this,n),r},getPathGenerator:function(t,e){if(!(e in this.compiledGlyphs)){var n=t.get(this.loadedName+"_path_"+e);this.compiledGlyphs[e]=new Function("c","size",n)}return this.compiledGlyphs[e]}},t}()}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){"use strict";var t=document.body||document.getElementsByTagName("head")[0],e=t.lastChild.src;return e&&e.replace(/\.js$/i,".worker.js")}());